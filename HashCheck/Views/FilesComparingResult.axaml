<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:HashCheck.ViewModels"
			 xmlns:v="clr-namespace:HashCheck.Views;assembly=HashCheck"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="250"
             x:Class="HashCheck.Views.FilesComparingResult"
			 DragDrop.AllowDrop="True"
			 Background="Transparent">
	<UserControl.DataContext>
		<vm:FilesComparingResultVM/>
	</UserControl.DataContext>
	<UserControl.Resources>
		<StreamGeometry x:Key="sign_out_regular">M12,4.35416625 L12,4.99998545 L13.7452668,5 C14.1245178,5 14.4381068,5.28151791 14.488266,5.64711331 L14.4952658,5.74875738 L14.502,10 L13.002,10 L12.9965084,6.5 L12,6.49998545 L12.0005455,11.004946 L13.002,11.0039854 L13.003,11 L14.504,11 L14.503,11.0039854 L19.442,11.0039854 L17.7195786,9.28023872 C17.4533579,9.0139263 17.4292236,8.59725845 17.6471286,8.30368449 L17.7197613,8.21957857 C17.9860737,7.95335788 18.4027416,7.9292236 18.6963155,8.14712863 L18.7804214,8.21976128 L21.7770341,11.2174065 C22.043008,11.4834721 22.0673769,11.8996744 21.850009,12.19325 L21.7775464,12.2773711 L18.7809337,15.2808167 C18.4883742,15.5740433 18.0135008,15.5745841 17.7202742,15.2820246 C17.4537046,15.0160615 17.4290241,14.5994256 17.646544,14.3055662 L17.7190663,14.2213652 L19.432,12.5039854 L12.0005455,12.504946 L12,17.0009854 L13.0139075,17.0014475 L13.007,13.5 L14.508,13.5 L14.5151512,17.7502049 C14.5157801,18.130345 14.23351,18.4448141 13.8670368,18.4945857 L13.7651512,18.5014475 L12,18.5009854 L12,19.25 C12,19.7163948 11.5788385,20.0696886 11.1195525,19.9885685 L2.61955246,18.4872805 C2.26120966,18.4239892 2,18.1126012 2,17.748712 L2,5.75 C2,5.38269391 2.26601447,5.06943276 2.62846599,5.00991252 L11.128466,3.61407877 C11.5850805,3.53909548 12,3.89143598 12,4.35416625 Z M10.5,5.23737333 L3.5,6.38688348 L3.5,17.1195701 L10.5,18.355925 L10.5,5.23737333 Z M8.50214976,11.5 C9.05562179,11.5 9.50429953,11.9486777 9.50429953,12.5021498 C9.50429953,13.0556218 9.05562179,13.5042995 8.50214976,13.5042995 C7.94867773,13.5042995 7.5,13.0556218 7.5,12.5021498 C7.5,11.9486777 7.94867773,11.5 8.50214976,11.5 Z</StreamGeometry>
		<StreamGeometry x:Key="rewind_regular">M21.0015268,4.75008179 L21,18.7500818 C20.9999319,19.374155 20.2821581,19.7251581 19.7895445,19.3420142 L12.5,13.6726109 L12.5,18.7500818 C12.4999319,19.374155 11.7821581,19.7251581 11.2895445,19.3420142 L2.28954454,12.3420142 C1.90346505,12.0417301 1.90348904,11.4582003 2.28959321,11.157948 L11.29112,4.15794799 C11.7838024,3.77481559 12.5015268,4.12596134 12.5015268,4.75008179 L12.5,9.82661094 L19.79112,4.15794799 C20.2838024,3.77481559 21.0015268,4.12596134 21.0015268,4.75008179 Z M11.0013596,6.28344989 L3.97168109,11.7500502 L11.0001672,17.2166505 L11.0013596,6.28344989 Z M19.5013596,6.28344989 L12.5,11.7266109 L12.5,11.7726109 L19.5001672,17.2166505 L19.5013596,6.28344989 Z</StreamGeometry>
	</UserControl.Resources>
	<UserControl.Styles>
		<Style Selector="Button.btn-open">
			<Setter Property="Margin" Value="0"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Grid.Row" Value="1"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<Button Tag="{Binding $parent[Button].Tag}"
								Command="{Binding $parent[UserControl].DataContext.OpenFolderSelectFile}"
								CommandParameter="{Binding $parent[Button].Content}">
							<DockPanel>
								<TextBlock Text="Открыть: "/>
								<TextBlock Text="{Binding $parent[Button].Tag}"/>
							</DockPanel>
						</Button>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<Style Selector="Button.btn-open /template/ Button">
			<Setter Property="Margin" Value="0 5 -10 5"/>
			<Setter Property="Padding" Value="5 2"/>
			<Setter Property="CornerRadius" Value="0"/>
			<Setter Property="Background" Value="LightGray"/>
		</Style>

		<Style Selector="Button.btn-open /template/ TextBlock">
			<Setter Property="FontSize" Value="11"/>
		</Style>

		<Style Selector="Button.btn-open TextBlock">
			<Setter Property="TextBlock.TextTrimming" Value="CharacterEllipsis"/>
		</Style>

		<Style Selector="Button.hash-copy">
			<Setter Property="Margin" Value="0"/>
			<Setter Property="Padding" Value="0"/>
		</Style>

		<Style Selector="Button.hash-copy.left">
			<Setter Property="HorizontalAlignment" Value="Left"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<Grid>
							<Button Content="{Binding $parent[Button].Content}"
									Command="{Binding $parent[UserControl].DataContext.CopyHashToClipboard}"
									CommandParameter="{Binding $parent[Button].Tag}"
									HorizontalAlignment="Left"
									Classes.status-equals="{Binding $parent[UserControl].DataContext.Computator.IsHashesEqual}"/>
								
							<ContentPresenter Content="{Binding $parent[Button].Tag}"
											  HorizontalAlignment="Right"
											  Margin="60 0 10 0"/>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<Style Selector="Button.hash-copy.right">
			<Setter Property="HorizontalAlignment" Value="Right"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<Grid>
							<Button Content="{Binding $parent[Button].Content}"
									Command="{Binding $parent[UserControl].DataContext.CopyHashToClipboard}"
									CommandParameter="{Binding $parent[Button].Tag}"
									HorizontalAlignment="Right"
									Classes.status-equals="{Binding $parent[UserControl].DataContext.Computator.IsHashesEqual}"/>
							<ContentPresenter Content="{Binding $parent[Button].Tag}"
											  HorizontalAlignment="Left"
											  Margin="10 0 60 0"/>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		
		<Style Selector="Button.hash-copy /template/ Button">
			<Setter Property="Margin" Value="2"/>
			<Setter Property="Width" Value="60"/>
			<Setter Property="HorizontalContentAlignment" Value="Center"/>
			<Setter Property="Padding" Value="-10 5"/>
			<Setter Property="Foreground" Value="Black"/>
			<Setter Property="CornerRadius" Value="0"/>
			<Setter Property="Background" Value="#CD5C5C"/>
		</Style>

		<Style Selector="Button.hash-copy /template/ Button.status-equals">
			<Setter Property="Background" Value="#BDECB6"/>
		</Style>

		<Style Selector="Button.hash-copy TextBlock">
			<Setter Property="TextTrimming" Value="CharacterEllipsis"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
			<Setter Property="Margin" Value="5 0"/>
		</Style>

		<Style Selector="Button.btn-back">
			<Setter Property="Grid.Column" Value="1"/>
			<Setter Property="Grid.ColumnSpan" Value="2"/>
			<Setter Property="Grid.RowSpan" Value="2"/>
			<Setter Property="CornerRadius" Value="0"/>
			<Setter Property="Padding" Value="0"/>
			<Setter Property="Margin" Value="0"/>
			<Setter Property="Width" Value="30"/>
			<Setter Property="Height" Value="30"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
			<Setter Property="HorizontalAlignment" Value="Center"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Transitions">
				<Transitions>
					<DoubleTransition Property="Width" Duration="0:0:0.33" Easing="CircularEaseInOut"/>
					<DoubleTransition Property="Height" Duration="0:0:0.33" Easing="CircularEaseInOut"/>
					<BrushTransition Property="Background" Duration="0:0:0.5" Easing="CircularEaseOut"/>
				</Transitions>
			</Setter>
		</Style>

		<Style Selector="Button.btn-back Path">
			<Setter Property="VerticalAlignment" Value="Center"/>
			<Setter Property="HorizontalAlignment" Value="Center"/>
			<Setter Property="StrokeThickness" Value="1"/>
			<Setter Property="Stroke" Value="Black"/>
			<Setter Property="Margin" Value="0 0 4 4"/>
			<Setter Property="RenderTransform" Value="scale(1.0)"/>
			<Setter Property="Transitions">
				<Transitions>
					<TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.5" Easing="CircularEaseInOut"/>
				</Transitions>
			</Setter>
		</Style>
			
		<Style Selector="Button.btn-back:pointerover Path">
			<Setter Property="RenderTransform" Value="scale(1.33)"/>
		</Style>
			
		<Style Selector="Button.btn-back:pointerover">
			<Setter Property="Width" Value="42"/>
			<Setter Property="Height" Value="42"/>
			<Setter Property="Background" Value="#FFD800"/>
		</Style>

		<Style Selector="Button">
			<Setter Property="Foreground" Value="Black"/>
			<Setter Property="TextBlock.FontFamily" Value="Montserrat"/>
		</Style>
		
	
		<Style Selector="TextBlock">
			<Setter Property="FontFamily" Value="Montserrat"/>
			<Setter Property="Grid.ColumnSpan" Value="2"/>
			<Setter Property="Foreground" Value="Black"/>
		</Style>

		<Style Selector="TextBlock.tb-filename">
			<Setter Property="VerticalAlignment" Value="Bottom"/>
			<Setter Property="Margin" Value="25 5 35 -5"/>
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="TextTrimming" Value="CharacterEllipsis"/>
			<Setter Property="FontSize" Value="14"/>
		</Style>
	</UserControl.Styles>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="1*"/>
			<ColumnDefinition Width="50"/>
			<ColumnDefinition Width="50"/>
			<ColumnDefinition Width="1*"/>
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition Height="20"/>
			<RowDefinition Height="32"/>
			<RowDefinition/>
		</Grid.RowDefinitions>

		<Button Classes="btn-back" Command="{Binding DisplayMainPage}">
			<Path Data="{StaticResource rewind_regular}" Classes="btn-back-content"/>
		</Button>
		
		<TextBlock Text="{Binding Computator.Result[0].FileName}"
				   HorizontalAlignment="Right"
				   Classes="tb-filename"/>
		
		<TextBlock Text="{Binding Computator.Result[1].FileName}"
				   HorizontalAlignment="Left"
				   Grid.Column="2"
				   Classes="tb-filename"/>

		<Button Classes="btn-open"
				Tag="{Binding Computator.Result[0].FilePath}"
				Content="{Binding Computator.Result[0]}"
				Grid.Column="0" Margin="0 0 -24 0"/>

		<Button Classes="btn-open"
				Tag="{Binding Computator.Result[1].FilePath}"
				Content="{Binding Computator.Result[1]}"
				Grid.Column="3" Margin="-24 0 0 0"/>

		<ScrollViewer Grid.ColumnSpan="4" Grid.Row="2"
					  VerticalScrollBarVisibility="Visible"
					  Margin="18 0 0 0">
			<Grid ColumnDefinitions="1*, 1*"
				  Width="{Binding $parent[Grid].Bounds.Width}">
				<ItemsControl ItemsSource="{Binding Computator.Result[0].FileHash}"
							  Grid.Column="0">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel/>
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Button Classes="hash-copy right" Tag="{Binding HashValue}">
								<TextBlock Text="{Binding HashName}"/>
							</Button>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

				<ItemsControl ItemsSource="{Binding Computator.Result[1].FileHash}"
							  Grid.Column="1">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel/>
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Button Classes="hash-copy left" Tag="{Binding HashValue}">
								<TextBlock Text="{Binding HashName}"/>
							</Button>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</Grid>
		</ScrollViewer>

		<v:DragDropPopupControl Name="DragDropPlace_ChoiceContainer"
								IsVisible="False"
								Grid.ColumnSpan="4"
								Grid.RowSpan="3"/>
	</Grid>
</UserControl>